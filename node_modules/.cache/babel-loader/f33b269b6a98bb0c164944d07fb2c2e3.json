{"remainingRequest":"C:\\Users\\rogelioluna\\Documents\\Github\\Portal_DH\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rogelioluna\\Documents\\Github\\Portal_DH\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\rogelioluna\\Documents\\Github\\Portal_DH\\src\\store\\index.js","mtime":1607235674953},{"path":"C:\\Users\\rogelioluna\\Documents\\Github\\Portal_DH\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\rogelioluna\\Documents\\Github\\Portal_DH\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWVBeGlvcyBmcm9tICd2dWUtYXhpb3MnOwpWdWUudXNlKFZ1ZXgpOwpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcyk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXN1YXJpbzogbnVsbCwKICAgIHJvbDogbnVsbAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc3VhcmlvOiBmdW5jdGlvbiBzZXRVc3VhcmlvKHN0YXRlLCB1c3VhcmlvLCByb2wpIHsKICAgICAgc3RhdGUudXN1YXJpbyA9IHVzdWFyaW8sIHN0YXRlLnJvbCA9IHJvbDsKICAgICAgY29uc29sZS5sb2coc3RhdGUpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgYXV0aFVzZXI6IGZ1bmN0aW9uIGF1dGhVc2VyKF9yZWYsIHVzdWFyaW8pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICB2YXIgcG9zdGRhdGEgPSB7CiAgICAgICAgdXNlcjogdXN1YXJpby51c2VybmFtZSwKICAgICAgICBwd2Q6IHVzdWFyaW8ucGFzc3dvcmQKICAgICAgfTsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vMTkyLjE2OC4xLjIzODo5Mi9hcGkvbG9naW4ucGhwIiwgewogICAgICAgIHBhcmFtczogcG9zdGRhdGEKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOwoKICAgICAgICBpZiAocmVzdWx0LmRhdGEgIT0gIkVycm9yIikgewogICAgICAgICAgY29uc29sZS5sb2coIlVzdWFyaW8gYWNlcHRhZG8iKTsKICAgICAgICAgIHZhciBkYXRhID0gcmVzdWx0LmRhdGEuc3BsaXQoInx8Iik7CiAgICAgICAgICB2YXIgTWVudSA9IGRhdGFbMF07CiAgICAgICAgICB2YXIgVXNlckpzb24gPSBKU09OLnBhcnNlKGRhdGFbMV0pOwogICAgICAgICAgdmFyIHVzdWFyaW9JbmdyZXNvID0gewogICAgICAgICAgICB1c3VhcmlvOiBVc2VySnNvbi5Vc2VyTmFtZSwKICAgICAgICAgICAgcm9sOiBVc2VySnNvbi5QZXJmaWwsCiAgICAgICAgICAgIGVtcGxpZDogVXNlckpzb24uRW1wbGlkLAogICAgICAgICAgICBub21icmU6IFVzZXJKc29uLk5vbWJyZSwKICAgICAgICAgICAgcHVlc3RvOiBVc2VySnNvbi5QdWVzdG8sCiAgICAgICAgICAgIGRlcGFydGFtZW50bzogVXNlckpzb24uRGVwdG8sCiAgICAgICAgICAgIGFyZWE6ICJEZXNhcnJvbGxvIGh1bWFubyIsCiAgICAgICAgICAgIGFyZWFpZDogIjEiLAogICAgICAgICAgICBkZXB0aWQ6IFVzZXJKc29uLkRlcHRpZCwKICAgICAgICAgICAgbWFpbDogVXNlckpzb24uQ29ycmVvLAogICAgICAgICAgICBVc2VybWVudTogTWVudQogICAgICAgICAgfTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdVU0VSX0FVVEgnLCBKU09OLnN0cmluZ2lmeSh1c3VhcmlvSW5ncmVzbykpOwogICAgICAgICAgY29tbWl0KCdzZXRVc3VhcmlvJywgdXN1YXJpb0luZ3Jlc28pOwogICAgICAgICAgcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yIHVzdWFyaW8gbyBjb250cmFzZcOxYSBlcnJvbmVvIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja0F1dGg6IGZ1bmN0aW9uIGNoZWNrQXV0aChfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICB2YXIgdXNlcmF1dGggPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJVU0VSX0FVVEgiKSk7CgogICAgICBpZiAodXNlcmF1dGggPT0gbnVsbCkgewogICAgICAgIHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgICAgICBjb21taXQoJ3NldFVzdWFyaW8nLCBudWxsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21taXQoJ3NldFVzdWFyaW8nLCB1c2VyYXV0aCk7CiAgICAgIH0KICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ3NldFVzdWFyaW8nLCBudWxsKTsKICAgICAgc3RvcmFnZS5jbGVhcigpOwogICAgICByb3V0ZXIucHVzaCgiL2xvZ2luIiwgdXNlcmF1dGgpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["C:/Users/rogelioluna/Documents/Github/Portal_DH/src/store/index.js"],"names":["Vue","VueRouter","Vuex","router","axios","VueAxios","use","Store","state","usuario","rol","mutations","setUsuario","console","log","actions","authUser","commit","postdata","user","username","pwd","password","get","params","then","result","data","split","Menu","UserJson","JSON","parse","usuarioIngreso","UserName","Perfil","emplid","Emplid","nombre","Nombre","puesto","Puesto","departamento","Depto","area","areaid","deptid","Deptid","mail","Correo","Usermenu","localStorage","setItem","stringify","push","catch","e","checkAuth","userauth","getItem","logOut","storage","clear","modules"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEAL,GAAG,CAACM,GAAJ,CAAQJ,IAAR;AACAF,GAAG,CAACM,GAAJ,CAAQD,QAAR,EAAkBD,KAAlB;AAEA,eAAe,IAAIF,IAAI,CAACK,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,OAAO,EAAG,IADP;AAEHC,IAAAA,GAAG,EAAG;AAFH,GADmB;AAK1BC,EAAAA,SAAS,EAAE;AACPC,IAAAA,UADO,sBACIJ,KADJ,EACUC,OADV,EACkBC,GADlB,EACsB;AACzBF,MAAAA,KAAK,CAACC,OAAN,GAAgBA,OAAhB,EACAD,KAAK,CAACE,GAAN,GAAYA,GADZ;AAEAG,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACH;AALM,GALe;AAY1BO,EAAAA,OAAO,EAAE;AACLC,IAAAA,QADK,0BACcP,OADd,EACuB;AAAA,UAAjBQ,MAAiB,QAAjBA,MAAiB;AACxB,UAAIC,QAAQ,GAAG;AACXC,QAAAA,IAAI,EAAEV,OAAO,CAACW,QADH;AAEXC,QAAAA,GAAG,EAAGZ,OAAO,CAACa;AAFH,OAAf;AAIAlB,MAAAA,KAAK,CAACmB,GAAN,CAAU,uCAAV,EAAkD;AAC9CC,QAAAA,MAAM,EAACN;AADuC,OAAlD,EAEGO,IAFH,CAEQ,UAACC,MAAD,EAAY;AAChBb,QAAAA,OAAO,CAACC,GAAR,CAAYY,MAAM,CAACC,IAAnB;;AACA,YAAGD,MAAM,CAACC,IAAP,IAAe,OAAlB,EAA0B;AACtBd,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,cAAIa,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkB,IAAlB,CAAX;AACA,cAAIC,IAAI,GAAGF,IAAI,CAAC,CAAD,CAAf;AACA,cAAIG,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAI,CAAC,CAAD,CAAf,CAAf;AACA,cAAIM,cAAc,GAAG;AACjBxB,YAAAA,OAAO,EAAGqB,QAAQ,CAACI,QADF;AAEjBxB,YAAAA,GAAG,EAAGoB,QAAQ,CAACK,MAFE;AAGjBC,YAAAA,MAAM,EAAGN,QAAQ,CAACO,MAHD;AAIjBC,YAAAA,MAAM,EAAER,QAAQ,CAACS,MAJA;AAKjBC,YAAAA,MAAM,EAAEV,QAAQ,CAACW,MALA;AAMjBC,YAAAA,YAAY,EAAGZ,QAAQ,CAACa,KANP;AAOjBC,YAAAA,IAAI,EAAG,mBAPU;AAQjBC,YAAAA,MAAM,EAAE,GARS;AASjBC,YAAAA,MAAM,EAAEhB,QAAQ,CAACiB,MATA;AAUjBC,YAAAA,IAAI,EAAElB,QAAQ,CAACmB,MAVE;AAWjBC,YAAAA,QAAQ,EAAErB;AAXO,WAArB;AAaAsB,UAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCrB,IAAI,CAACsB,SAAL,CAAepB,cAAf,CAAjC;AACAhB,UAAAA,MAAM,CAAC,YAAD,EAAcgB,cAAd,CAAN;AACA9B,UAAAA,MAAM,CAACmD,IAAP,CAAY,GAAZ;AACH,SArBD,MAqBK;AACDzC,UAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACH;AACJ,OA5BD,EA4BGyC,KA5BH,CA4BS,UAAAC,CAAC,EAAI;AACV3C,QAAAA,OAAO,CAACC,GAAR,CAAY0C,CAAZ;AACH,OA9BD;AA+BH,KArCI;AAsCLC,IAAAA,SAtCK,4BAsCc;AAAA,UAARxC,MAAQ,SAARA,MAAQ;AACf,UAAIyC,QAAQ,GAAG3B,IAAI,CAACC,KAAL,CAAWmB,YAAY,CAACQ,OAAb,CAAqB,WAArB,CAAX,CAAf;;AACA,UAAGD,QAAQ,IAAI,IAAf,EAAoB;AAChBvD,QAAAA,MAAM,CAACmD,IAAP,CAAY,QAAZ;AACArC,QAAAA,MAAM,CAAC,YAAD,EAAc,IAAd,CAAN;AACH,OAHD,MAGK;AACDA,QAAAA,MAAM,CAAC,YAAD,EAAcyC,QAAd,CAAN;AACH;AACJ,KA9CI;AA+CLE,IAAAA,MA/CK,yBA+CY;AAAA,UAAR3C,MAAQ,SAARA,MAAQ;AACbA,MAAAA,MAAM,CAAC,YAAD,EAAc,IAAd,CAAN;AACA4C,MAAAA,OAAO,CAACC,KAAR;AACA3D,MAAAA,MAAM,CAACmD,IAAP,CAAY,QAAZ,EAAqBI,QAArB;AACH;AAnDI,GAZiB;AAiE1BK,EAAAA,OAAO,EAAE;AAjEiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Vuex from 'vuex'\nimport router from '../router'\nimport axios from 'axios'\nimport VueAxios from 'vue-axios'\n\nVue.use(Vuex)\nVue.use(VueAxios, axios)\n\nexport default new Vuex.Store({\n    state: {\n        usuario : null,\n        rol : null\n    },\n    mutations: {\n        setUsuario(state,usuario,rol){\n            state.usuario = usuario,\n            state.rol = rol\n            console.log(state);\n        }\n    },\n    actions: {\n        authUser ({commit},usuario ){\n            let postdata = {\n                user: usuario.username,\n                pwd:  usuario.password,\n            };\n            axios.get(\"http://192.168.1.238:92/api/login.php\",{\n                params:postdata\n            }).then((result) => {\n                console.log(result.data);\n                if(result.data != \"Error\"){\n                    console.log(\"Usuario aceptado\");\n                    let data = result.data.split(\"||\");\n                    let Menu = data[0];\n                    let UserJson = JSON.parse(data[1]);\n                    let usuarioIngreso = {\n                        usuario : UserJson.UserName,\n                        rol : UserJson.Perfil,\n                        emplid : UserJson.Emplid,\n                        nombre: UserJson.Nombre,\n                        puesto: UserJson.Puesto,\n                        departamento : UserJson.Depto,\n                        area : \"Desarrollo humano\",\n                        areaid: \"1\",\n                        deptid: UserJson.Deptid,\n                        mail: UserJson.Correo,\n                        Usermenu: Menu\n                    };\n                    localStorage.setItem('USER_AUTH',JSON.stringify(usuarioIngreso));\n                    commit('setUsuario',usuarioIngreso);\n                    router.push(\"/\");\n                }else{\n                    console.log(\"Error usuario o contraseÃ±a erroneo\")\n                }\n            }).catch(e => {\n                console.log(e)\n            });\n        },\n        checkAuth({commit}){\n            let userauth = JSON.parse(localStorage.getItem(\"USER_AUTH\"));\n            if(userauth == null){\n                router.push(\"/login\");\n                commit('setUsuario',null);\n            }else{\n                commit('setUsuario',userauth);\n            }\n        },\n        logOut ({commit}){\n            commit('setUsuario',null);\n            storage.clear();\n            router.push(\"/login\",userauth);\n        }\n    },\n    modules: {\n    }\n})\n"]}]}